# Maintainer: Leonardo Arena <rnalrd@alpinelinux.org>
pkgname=py-ethtool
_pkgname=ethtool
pkgver=0.7
pkgrel=0
pkgdesc="Python library for the ethtool kernel interface"
url="https://github.com/fedora-python/python-ethtool"
arch="all"
license="GPL-2.0-only"
depends=
depends_dev="libnl-dev pkgconfig python2-dev"
makedepends="linux-headers $depends_dev"
install=
subpackages=
source="$pkgname-$pkgver.tar.gz::https://github.com/fedora-python/python-ethtool/archive/v$pkgver.tar.gz
	python-ethtool-libnl-1.0-support.patch
	fix-includes-and-types.patch
	"
builddir="$srcdir"/python-ethtool-$pkgver

build() {
	cd "$builddir"
	return 0
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install || return 1
	# python2 setup.py install --root="$pkgdir"
}

sha512sums="ee258bbb308d405c7089ab3a9e307c3bdafe557d220a2fad2498af3c54938ef9093973cdde52b6b971d07f888698af42bdcdbff00300c461248cfb2bdc3c35f5  python-ethtool-0.7.tar.bz2
f3b3fbebfc276de712383f24439539bc649dd8cb91c9f63dd53ddf2c074592eb8deb22200947237e52dc6262c1dd3c4729e3912a40d42634a949c8b23deb96c9  python-ethtool-libnl-1.0-support.patch
d600fb49864b328be7dae349d948e6f32d1608e590c5dec5289ac6873bb1386527a5eb05e310a94033bc2e48c019b23a88da277b14ad99c798935c9d9359e4c9  fix-includes-and-types.patch"
